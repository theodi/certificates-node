<%- include('../partials/header') %>

<section class="error-page-section">
  <div class="container">
    <div class="error-content">
      <% if (statusCode === 401 || statusCode === 403) { %>
        <!-- Unauthorized - Not logged in -->
        <div class="error-icon">üîê</div>
        <h1>Authentication Required</h1>
        <p class="error-description">You need to be logged in to access this page.</p>
        
        <div class="error-help">
          <h2>How to get access</h2>
          <p>The ODI Certificates platform requires an <strong>ODI account</strong> to create and manage certificates.</p>
          
          <div class="help-steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>Create an ODI Account</h3>
                <p>You can create a free account on the main ODI website:</p>
                <a href="https://theodi.org/account/register/" target="_blank" rel="noopener" class="btn btn-primary">Create Account</a>
              </div>
            </div>
            
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>Log in to Certificates</h3>
                <p>Once you have an account, you can log in to access the certificates platform:</p>
                <a href="/auth/django" class="btn btn-secondary">Log In</a>
              </div>
            </div>
          </div>
          
          <div class="additional-info">
            <h3>Why do I need an account?</h3>
            <ul>
              <li>To create and manage your certificates</li>
              <li>To save your progress on certificate questionnaires</li>
              <li>To access your certificate history</li>
              <li>To prevent spam and ensure quality</li>
            </ul>
          </div>
        </div>
        
      <% } else if (statusCode === 403) { %>
        <!-- Forbidden - Not authorized -->
        <div class="error-icon">üö´</div>
        <h1>Access Denied</h1>
        <p class="error-description">You don't have permission to access this resource.</p>
        
        <div class="error-help">
          <h2>What this means</h2>
          <p>This could be because:</p>
          <ul>
            <li>You're trying to access someone else's certificate or dataset</li>
            <li>The resource requires special permissions</li>
            <li>The resource has been deleted or is no longer available</li>
          </ul>
          
          <div class="help-actions">
            <a href="/datasets" class="btn btn-primary">Browse Public Certificates</a>
            <a href="/datasets/new" class="btn btn-secondary">Create Your Own Certificate</a>
          </div>
        </div>
        
      <% } else if (statusCode === 404) { %>
        <!-- Not Found -->
        <div class="error-icon">üîç</div>
        <h1>Page Not Found</h1>
        <p class="error-description">The page you're looking for doesn't exist.</p>
        
        <div class="error-help">
          <h2>What you can do</h2>
          <div class="help-actions">
            <a href="/" class="btn btn-primary">Go to Homepage</a>
            <a href="/datasets" class="btn btn-secondary">Browse Certificates</a>
            <a href="/about/faq" class="btn btn-outline">Check FAQ</a>
          </div>
          
          <div class="additional-info">
            <h3>Common pages you might be looking for:</h3>
            <ul>
              <li><a href="/datasets/new">Create a new certificate</a></li>
              <li><a href="/datasets">Browse existing certificates</a></li>
              <li><a href="/about">About ODI Certificates</a></li>
              <li><a href="/about/faq">Frequently Asked Questions</a></li>
            </ul>
          </div>
        </div>
        
      <% } else if (statusCode === 500) { %>
        <!-- Server Error -->
        <div class="error-icon">‚ö†Ô∏è</div>
        <h1>Server Error</h1>
        <p class="error-description">Something went wrong on our end. We're working to fix it.</p>
        
        <div class="error-help">
          <h2>What you can try</h2>
          <ul>
            <li>Refresh the page</li>
            <li>Try again in a few minutes</li>
            <li>Clear your browser cache</li>
            <li>Contact us if the problem persists</li>
          </ul>
          
          <div class="help-actions">
            <a href="/" class="btn btn-primary">Go to Homepage</a>
            <a href="mailto:info@theodi.org" class="btn btn-secondary">Contact Support</a>
          </div>
        </div>
        
      <% } else { %>
        <!-- Generic Error -->
        <div class="error-icon">‚ùå</div>
        <h1>Error <%= statusCode %></h1>
        <p class="error-description"><%= errorMessage %></p>
        
        <div class="error-help">
          <div class="help-actions">
            <a href="/" class="btn btn-primary">Go to Homepage</a>
            <a href="/about/faq" class="btn btn-secondary">Check FAQ</a>
          </div>
        </div>
      <% } %>
    </div>
  </div>
</section>

<style>
.error-page-section {
  min-height: 100vh;
  background: rgba(226,230,233);
  padding: 60px 0;
}

.error-content {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
  background: white;
  padding: 3rem;
}

.error-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.error-content h1 {
  font-size: 2.5rem;
  color: #333;
  margin-bottom: 1rem;
}

.error-description {
  font-size: 1.2rem;
  color: #2c2828;
  margin-bottom: 2rem;
}

.error-help {
  text-align: left;
  margin-top: 2rem;
}

.error-help h2 {
  font-size: 1.5rem;
  color: var(--color-dark-blue);
  margin-bottom: 1rem;
}

.error-help h3 {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 0.5rem;
}

.error-help p {
  color: #666;
  line-height: 1.6;
  margin-bottom: 1rem;
}

.error-help ul {
  color: #666;
  line-height: 1.6;
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
}

.error-help li {
  margin-bottom: 0.5rem;
}

.help-steps {
  margin: 2rem 0;
}

.step {
  display: flex;
  align-items: flex-start;
  margin-bottom: 2rem;
  padding: 1.5rem;
  background: rgba(226,230,233);
  border-left: 4px solid var(--color-dark-blue);
}

.step-number {
  background: var(--color-dark-blue);
  color: white;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin-right: 1rem;
  flex-shrink: 0;
}

.step-content h3 {
  margin-top: 0;
  margin-bottom: 0.5rem;
}

.step-content p {
  margin-bottom: 1rem;
}

.help-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.additional-info {
  background: rgba(226,230,233);
  padding: 1.5rem;
  margin-top: 2rem;
}

.additional-info h3 {
  margin-top: 0;
  margin-bottom: 1rem;
}

.additional-info ul {
  margin-bottom: 0;
}

.additional-info a {
  color: var(--color-dark-blue);
  text-decoration: none;
}

.additional-info a:hover {
  text-decoration: underline;
}

/* Responsive Design */
@media (max-width: 768px) {
  .error-content {
    padding: 2rem 1.5rem;
  }
  
  .error-content h1 {
    font-size: 2rem;
  }
  
  .help-actions {
    flex-direction: column;
    align-items: center;
  }
  
  .step {
    flex-direction: column;
    text-align: center;
  }
  
  .step-number {
    margin-right: 0;
    margin-bottom: 1rem;
  }
}
</style>

<%- include('../partials/footer') %>